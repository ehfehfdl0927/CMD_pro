<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
</head>
<script type="text/javascript">

    $(document).ready(function (){
        if($("#user_gender").val() == "W"){
            $("#woman").attr("checked",true);
        }
        else if($("#user_gender").val() == "M"){
            $("#man").attr("checked",true);
        }
        if($("#user_selected_major").val() == "Frontend"){
            $("#Frontend").attr("selected",true);
        }
        else if($("#user_selected_major").val() == "Backend"){
            $("#Backend").attr("selected",true);
        }
        else if($("#user_selected_major").val() == "DBA"){
            $("#DBA").attr("selected",true);
        }
        else if($("#user_selected_major").val() == "AI"){
            $("#AI").attr("selected",true);
        }
        else if($("#user_selected_major").val() == "WhiteHat"){
            $("#WhiteHat").attr("selected",true);
        }

    });

    function submitAction(){
        if($("#user_pwd").val() == ""){
            alert("비밀번호를 입력해주세요.");
            $("#user_pwd").focus();
            return false;
        }
        if($("#user_email").val() == ""){
            alert("이메일을 입력해주세요.");
            $("#user_email").focus();
            return false;
        }
        if($("#user_name").val() == ""){
            alert("이름을 입력해주세요.");
            $("#user_name").focus();
            return false;
        }

        if($("#pwd_check").val() != $("#user_pwd").val()){
            alert("비밀번호가 일치하지 않습니다.");
            return false;
        }
    }
</script>
<body>
<form action="/userUpdateAction" method="post" onsubmit="return submitAction();">

    <h4>회원정보 수정 양식</h4>

    <div class="form-group">
        <label for="user_id">*아이디</label>
        <input type="text" id="user_id" name="user_id" th:value="${session.id}" readonly><br>
        <label for="user_pwd">*비밀번호</label>
        <input type="password" id="user_pwd" name="user_pwd" placeholder="비밀번호" th:value="${user.user_pwd}"><br>
        <label for="pwd_check">*비밀번호 확인</label>
        <input type="password" id="pwd_check" name="pwd_check" placeholder="비밀번호 확인"><br>
        <label for="user_name">*이름</label>
        <input type="text" id="user_name" name="user_name" placeholder="이름" th:value="${user.user_name}"><br>
        <label for="user_age">나이</label>
        <input type="number" id="user_age" name="user_age" placeholder="나이" th:value="${user.user_age}"><br>
        <label for="user_major">분야</label>
        <select id="user_major" name="user_major">
            <option value="" selected disabled hidden>분야</option>
            <option id="Frontend" value="Frontend">Frontend</option>
            <option id="Backend" value="Backend">Backend</option>
            <option id="DBA" value="DBA">DBA</option>
            <option id="AI" value="AI">AI</option>
            <option id="WhiteHat" value="WhiteHat">White-Hat</option>
        </select>
        <label for="user_email">*이메일</label>
        <input type="email" id="user_email" name="user_email" placeholder="이메일" th:value="${user.user_email}"><br>
        <input type="checkbox" id="woman" name="user_gender"  value="W">여성
        <input type="checkbox" id="man" name="user_gender"  value="M">남성
        <input type="submit" id="submit" name="submit" value="수정" >
        <input type="hidden" id="user_gender" th:value="${user.user_gender}">
        <input type="hidden" id="user_selected_major" th:value="${user.user_major}">
    </div>

</form>
</body>
</html>